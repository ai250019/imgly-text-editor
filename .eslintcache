[{"C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\text-editor\\src\\index.js":"1","C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\text-editor\\src\\App.js":"2","C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\text-editor\\src\\reportWebVitals.js":"3","C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\text-editor\\src\\text-editor\\index.js":"4","C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\imgly-text-editor\\src\\index.js":"5","C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\imgly-text-editor\\src\\App.js":"6","C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\imgly-text-editor\\src\\reportWebVitals.js":"7","C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\imgly-text-editor\\src\\text-editor\\index.js":"8"},{"size":500,"mtime":499162500000,"results":"9","hashOfConfig":"10"},{"size":180,"mtime":1611909447883,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"10"},{"size":594,"mtime":1611909541584,"results":"13","hashOfConfig":"10"},{"size":500,"mtime":499162500000,"results":"14","hashOfConfig":"15"},{"size":180,"mtime":1611909447883,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":499162500000,"results":"17","hashOfConfig":"15"},{"size":5490,"mtime":1611930219614,"results":"18","hashOfConfig":"15"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1kwc4nt",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"wggizs",{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},"C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\text-editor\\src\\index.js",[],"C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\text-editor\\src\\App.js",[],"C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\text-editor\\src\\reportWebVitals.js",[],"C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\text-editor\\src\\text-editor\\index.js",[],"C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\imgly-text-editor\\src\\index.js",[],["37","38"],"C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\imgly-text-editor\\src\\App.js",[],"C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\imgly-text-editor\\src\\reportWebVitals.js",[],"C:\\Users\\ai250019\\OneDrive - Teradata\\Desktop\\img.ly\\imgly-text-editor\\src\\text-editor\\index.js",["39","40","41","42","43","44","45","46"],"import './text-editor.css';\r\nimport { useState, useEffect } from 'react'\r\nimport * as rangy from 'rangy'\r\n\r\nfunction TextEditor() {\r\n\r\n  let [textData, setTextData] = useState(localStorage.getItem(\"data\") ? JSON.parse(localStorage.getItem(\"data\")) : []);\r\n  let [selected, setSelected] = useState(null);\r\n\r\n  if (textData.length == 0) {\r\n    textData = [\r\n      [{\r\n        data: \"My name is Aakifa. I'm a software engineer.\",\r\n        style: {\r\n          'b': [[0, 4], [6, 8]],\r\n          'i': [[0, 1]],\r\n          'u': [[6, 9]]\r\n        }\r\n      }],\r\n      [{\r\n        data: \"This is a text editor\",\r\n        style: {\r\n          'b': [[0, 1]],\r\n          'i': [[2, 4]],\r\n          'u': [[6, 7], [10, 12]]\r\n        }\r\n      }]\r\n    ];\r\n  }\r\n\r\n  window.onload = function () {\r\n    rangy.init();\r\n    console.log(rangy);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.onload = function () {\r\n      rangy.init();\r\n      console.log(rangy);\r\n    };\r\n  })\r\n\r\n  function getMarkup(text) {\r\n\r\n    let dataToDisplay = \"\";\r\n    let temp = text[0].data;\r\n    for (let i = 0; i < temp.length; i++) {\r\n      let startStyle = hasStartStyle(text[0].style, i);\r\n      let endStyle = hasEndStyle(text[0].style, i);\r\n      if (startStyle.length > 0 || endStyle.length > 0) {\r\n        if (startStyle.length > 0) {\r\n          startStyle.map(style => {\r\n            dataToDisplay += \"<\" + style + \">\"\r\n          })\r\n          dataToDisplay += temp[i];\r\n        }\r\n        if (endStyle.length > 0) {\r\n          dataToDisplay += temp[i];\r\n          endStyle.map(style => {\r\n            dataToDisplay += \"</\" + style + \">\"\r\n          })\r\n        }\r\n      }\r\n      else {\r\n        dataToDisplay += temp[i];\r\n      }\r\n    }\r\n\r\n    return { __html: dataToDisplay };\r\n  };\r\n\r\n  function hasStartStyle(style, index) {\r\n    let startStyle = [];\r\n    for (var key in style) {\r\n      let obj = style[key];\r\n      for (let i = 0; i < obj.length; i++) {\r\n        if (obj[i][0] == index) {\r\n          startStyle.push(key);\r\n        }\r\n      }\r\n    }\r\n    return startStyle;\r\n  }\r\n\r\n  function hasEndStyle(style, index) {\r\n    let endStyle = [];\r\n    for (var key in style) {\r\n      let obj = style[key];\r\n      for (let i = 0; i < obj.length; i++) {\r\n        if (obj[i][1] == index) {\r\n          endStyle.push(key);\r\n        }\r\n      }\r\n    }\r\n    return endStyle;\r\n  }\r\n\r\n  function updateStyle(style, index) {\r\n    let startStyle = [];\r\n    for (var key in style) {\r\n      let obj = style[key];\r\n      for (let i = 0; i < obj.length; i++) {\r\n        if (obj[i][0] >= index && obj[i][1] <= index) {\r\n          let index = obj[i][1] + 1;\r\n          obj[i][1] = index;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function getFirstRange() {\r\n    var sel = rangy.getSelection();\r\n    return sel.rangeCount ? sel.getRangeAt(0) : null;\r\n  }\r\n\r\n  function insertNodeAtRange(event, text, i) {\r\n    var range = getFirstRange();\r\n    if (range) {\r\n      textData[i].data = event.currentTarget.innerText;\r\n      updateStyle(textData[i].style, range.startOffset);\r\n      setTextData(textData);\r\n      localStorage.setItem(\"data\", JSON.stringify(textData));\r\n    }\r\n  }\r\n\r\n  function addToSelection(event, text, i) {\r\n    setSelected(i);\r\n  }\r\n\r\n  function onApplyBold() {\r\n    var range = getFirstRange();\r\n    if(range) {\r\n      if (textData[selected][0].style['b']) {\r\n        textData[selected][0].style['b'].push([range.startOffset, range.endOffset]);\r\n      }\r\n      else {\r\n        textData[selected][0].style['b'] = [];\r\n        textData[selected][0].style['b'].push([range.startOffset, range.endOffset]);\r\n      }\r\n    }\r\n    setTextData(textData);\r\n    localStorage.setItem(\"data\", JSON.stringify(textData));\r\n  }\r\n\r\n  function onApplyItalics() {\r\n    var range = getFirstRange();\r\n    if(range) {\r\n      if (textData[selected][0].style['i']) {\r\n        textData[selected][0].style['i'].push([range.startOffset, range.endOffset]);\r\n      }\r\n      else {\r\n        textData[selected][0].style['i'] = [];\r\n        textData[selected][0].style['i'].push([range.startOffset, range.endOffset]);\r\n      }\r\n    }\r\n    setTextData(textData);\r\n    localStorage.setItem(\"data\", JSON.stringify(textData));\r\n  }\r\n\r\n  function onApplyUnderline() {\r\n    var range = getFirstRange();\r\n    if(range) {\r\n      if (textData[selected][0].style['u']) {\r\n        textData[selected][0].style['u'].push([range.startOffset, range.endOffset]);\r\n      }\r\n      else {\r\n        textData[selected][0].style['u'] = [];\r\n        textData[selected][0].style['u'].push([range.startOffset, range.endOffset]);\r\n      }\r\n    }\r\n    setTextData(textData);\r\n    localStorage.setItem(\"data\", JSON.stringify(textData));\r\n  }\r\n\r\n  return (\r\n    <div className=\"TextEditor\">\r\n      <div className=\"header\">\r\n        <button className=\"editorButton\" onClick={onApplyBold}>\r\n          B\r\n          </button>\r\n        <button className=\"editorButton\" onClick={onApplyItalics}>\r\n          I\r\n          </button>\r\n        <button className=\"editorButton\" style={{ textDecoration: 'underline' }} onClick={onApplyUnderline}>\r\n          U\r\n        </button>\r\n      </div>\r\n      <div className=\"editor\" >\r\n        {\r\n          textData.map((text, i) => {\r\n            return (\r\n              <p key={i} dangerouslySetInnerHTML={getMarkup(text)} contentEditable={true} onMouseUp={(event) => addToSelection(event, text, i)} onInput={(event) => insertNodeAtRange(event, text, i)} >\r\n              </p>)\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TextEditor;",{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":10,"column":23,"nodeType":"53","messageId":"54","endLine":10,"endColumn":25},{"ruleId":"55","severity":1,"message":"56","line":52,"column":26,"nodeType":"57","messageId":"58","endLine":54,"endColumn":12},{"ruleId":"59","severity":1,"message":"60","line":52,"column":32,"nodeType":"57","messageId":"61","endLine":52,"endColumn":34},{"ruleId":"55","severity":1,"message":"56","line":59,"column":24,"nodeType":"57","messageId":"58","endLine":61,"endColumn":12},{"ruleId":"59","severity":1,"message":"60","line":59,"column":30,"nodeType":"57","messageId":"61","endLine":59,"endColumn":32},{"ruleId":"51","severity":1,"message":"52","line":77,"column":23,"nodeType":"53","messageId":"54","endLine":77,"endColumn":25},{"ruleId":"51","severity":1,"message":"52","line":90,"column":23,"nodeType":"53","messageId":"54","endLine":90,"endColumn":25},{"ruleId":"62","severity":1,"message":"63","line":99,"column":9,"nodeType":"64","messageId":"65","endLine":99,"endColumn":19},"no-native-reassign",["66"],"no-negated-in-lhs",["67"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'dataToDisplay'.","ArrowFunctionExpression","unsafeRefs","array-callback-return","Array.prototype.map() expects a return value from arrow function.","expectedInside","no-unused-vars","'startStyle' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]